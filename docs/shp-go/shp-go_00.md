# 前置材料

## 前言

我已经很久在考虑写这本书了。在我软件工程职业生涯的开始，我对完成工作的流程和程序根本不感兴趣。这一切似乎都太无聊了。但在我的管理者们的启发下，我开始深入研究 API 开发、敏捷流程、单元测试、持续交付和集成，很快我就发现自己淹没在资源、指南和会议演讲中。

直到阅读了 Gene Kim、George Spafford 和 Kevin Behr 合著的《凤凰项目》，我才恍然大悟。这是一个关于一家公司努力开发和交付高质量软件产品的故事。当我刚开始的时候，这本书在哪里？！我将《凤凰项目》与 Andy Hunt 和 Dave Thomas 合著的《实用程序员》结合起来，感觉自己对我的职业生涯有了全新的认识。

就像所有年轻的理想主义者一样，我用我新获得的知识和优越感让我的同事感到烦恼，直到其他人向我展示了我们已经在哪些地方实施了我在学习中了解到的一些概念。我采访了同事以及那些在行业内工作多年的人士，然后利用这些信息，结合 Martin Fowler 和 Kent Beck 的书籍，帮助我理解公司可以改进的领域。

很快，我将总结和文档发送给我的上司，并在会议中提出建议——但想法太多，时间太少。对于我在内部缺乏进展以及堆积如山的研究材料和示例代码感到沮丧，我决定在职业生涯的道路上继续前进。

我需要获得三个额外的职位，才能将许多这些想法付诸实践，并尝试其他想法。正如你将在本书中了解到的那样，我们开发者不仅需要实现想法，还需要反思如何使它们变得更好。我在阅读关于编写、测试和部署软件的所有书籍中，都发现了这个持续反馈循环的主题，但从未在一本书中用实例全部展示出来。当 Manning 出版社邀请我写这本书时，最初的主题完全不同，然后，在编辑、审稿人、早期购买者和行业专业人士的各种形式的反馈过程中，我们最终得到了你现在正在阅读的这本书。本书中描述的过程体现在了制作这本书的过程中（甚至使用了部署和持续集成）。甚至连书名都修改了好几次，以确保找到最能描述本书主题的那个！

你会发现，我按照随着增长而产生的复杂性来结构化这本书。初创公司和初步项目需要快速且轻量级以找到他们的市场，而在后期阶段，他们需要更广泛和大规模地考虑代码、架构和测试，因此我在一开始就专注于描述简单且经济的解决方案，并在最后介绍更高级和复杂的解决方案。我也希望你能看到，我这里呈现的材料是模块化的。语言、平台和部署模式并不重要。重要的是建立一个流程。为了强调这一点，我在整本书中使用了多种语言和部署模式。

我选择 Go 作为主要语言，因为它是我日常编写代码的语言。但我使用过许多语言，这本书中描述的许多概念都是语言无关的，所以我们还在附录中选择了其他一些流行的语言作为示例。此外，在书的结尾，我讨论了行业中的模式分裂，即使用基础设施即代码与基于容器的部署策略相比。

在《凤凰项目》（及其灵感来源，Eliyahu Goldratt 的《目标》）的精神下，这本书以半叙述的形式讲述。我的希望是，你，作为读者，能够借鉴你自己的经验和挑战，以便将它们与我所写的进行比较。你是否遇到过同样的问题？你是如何解决的？这个策略是否有所帮助？或者它是否可以适应以帮助未来？

这本书在你合上它的时候并不一定要结束。

## 致谢

当我开始写这本书的时候，我没有意识到会有这么多人参与进来。首先，我要感谢我的妻子，Chelsea，她在这次努力以及我参与的其它所有努力中支持我。在纸上，开始一份新工作并写一本书，同时还要管理两个孩子，这并不是最好的计划，但她帮助我坚持下去，并推动这本书完成最后阶段。

我还想感谢我的两个儿子，Eli 和 Abel，他们在所有最好的方式上激励和挑战我。他们的好奇心和兴趣迫使我思考那些看似不言自明的概念，并找到一种解释它们的方法，这在技术层面上，就是大多数编程书籍试图为人们做的事情！

没有 Manning 出版团队的巨大支持，这本书是无法写成的。感谢 Andy Waldron 与我一起为这本书寻找主题（以及正确的标题！）我真正为能写这本书而感到自豪。还要感谢 Aliénor Latour，她就内容的各个方面以及整本书的整体语气和方向给我提供了建议。

作为许多 Manning 书籍的审稿人，我特别感激所有在书评中提供反馈的人。感谢 Alain Lompo、Alex Harrington、Alex Lucas、Amit Lamba、Arun Saha、Bhagvan Kommadi、Borko Đurković、Camal Cakar、Clifford Thurber、Diego Stamigni、Eldon Alameda、Jorge Ezequiel Bo、Katia Patkin、Kent Spillner、Laud Bentil、Manoj Reddy、Marleny Núñez Alba、Mattia Di Gangi、Michele Di Pede、Mihaela Barbu、Muneeb Shaikh、Nathan B Crocker、Philippe Vialatte、Roman Zhuzha、Ryan Quinn、Sergio Britos Arévalo、Sudeep Batra、Tiklu Ganguly、Tymoteusz Wolodzko 和 Walter Alexander Mata López，你们的建议帮助使这本书变得更好。我还要感谢那些通过 MEAP 早期购买这本书并提供反馈和支持的人。

我非常感激贝基·惠特尼提供的所有帮助、指导、耐心和笑声。在整个写作过程中，她是一位了不起的向导，帮助我缓解了许多决策的焦虑。没有她的指导，写这本书对我来说将是令人压倒性的，而实际上，它是一次有组织的旅程。

致 Thoro.ai，它给了我写作这本书的自由和鼓励。

致弗兰克，他收养了我，并作为回报，我得到了谈话、论文和经验库。

致迈克·L，他每天早上与我讨论流程和改进，以提出这本书的想法。

致约翰·M 和维罗妮卡，他们给了我第一份工作，并鼓励我成长。

致我的父母，他们鼓励我成长并追求新的目标。

致我高中英语老师，他们鼓励我写作并帮助我确立自己的声音。

致奥托，每当我们散步时，他都引导我更接近这本书的结尾。

## 关于这本书

《Go 语言实践》旨在指导你构建产品。实验和黑客攻击需要流程和自动化来帮助将想法转化为其他人可以使用的东西。将这本书归入一个单一的类别是困难的，因为它故意引导你进入测试和基础设施领域，同时创建流程和自动化。在开发实验项目时，你将发现自己穿梭于开发、QA 和运维世界之间。将这些元素组合在一起是一个自动化管道，它提供了一个反馈循环，我们在整个过程中不断改进。

### 谁应该阅读这本书？

这本书旨在为任何对任何编程语言有扎实掌握的人而写，它被构思和撰写为你在学习 Go、JavaScript、Python 或你兴奋想要构建的任何其他有趣语言之后应该阅读的第一本书。有了这些知识，你将接受软件开发流程、持续集成和部署以及各种基础设施元素的快速课程。这本书使用特定语言和云基础设施的示例编写，这些示例可以转移到其他语言，如附录中所示。

经理和架构师可能会发现这些概念有助于帮助围绕新项目设计团队。这些概念可以逐渐引入现有的开发环境以及新的环境。考虑到语言和架构的进步，你可能会担心本书的内容会过时，但概念应向前推进，针对新的语言和基础设施元素。这里所写的内容只是可以做到的一小部分，但应为你和你的团队构建的坚实基础。

### 本书组织结构：路线图

本书分为三部分，每部分包含一个关于流程、测试和基础设施的章节，每部分的复杂性都在增加。这样，你可以跳到与你的专业领域（或缺乏专业领域）相关的相关章节或部分。每个概念都应可转移到其他语言和基础设施组件。在附录中，你可以找到其他语言中相同管道的示例。

### 关于代码

代码是基本级别的 Go 代码，使用 GitHub actions 作为 CI 引擎。这些操作使用 YAML 作为主要语言，这很容易转移到其他系统，尽管库将不同。我（没有特别的原因）选择了 Google Cloud 作为本书中的云主机；你可以用其他云服务中的类似产品替换它。此外，我选择了基于容器的部署路线，而不是作为首选建立单个服务器，因为许多绿色项目倾向于朝这个方向发展。然而，附录 D 提供了一些基本基础设施示例。

本书包含许多源代码示例，既有编号列表中的，也有与普通文本内联的。在两种情况下，源代码都以`固定宽度字体`如这样来格式化，以将其与普通文本区分开来。有时代码也会**`加粗`**以突出显示与章节中先前步骤相比已更改的代码，例如当新功能添加到现有代码行时。

在许多情况下，原始源代码已被重新格式化；我们添加了换行并重新调整了缩进，以适应书籍中可用的页面空间。在极少数情况下，即使这样也不够，列表中还包括了行续续标记（➥）。此外，当代码在文本中描述时，源代码中的注释通常也会从列表中删除。许多列表都附有代码注释，突出重要概念。

你可以从本书的 liveBook（在线）版本中获取可执行的代码片段，网址为 [`livebook.manning.com/book/shipping-go`](https://livebook.manning.com/book/shipping-go)。本书中示例的完整代码可在 Manning 网站 www.manning.com 和 GitHub [`github.com/holmes89/hello-api`](https://github.com/holmes89/hello-api) 上下载。

### liveBook 讨论论坛

购买《Shipping Go》包括免费访问 liveBook，Manning 的在线阅读平台。使用 liveBook 的独家讨论功能，您可以在全球范围内或特定章节或段落中附加评论。为自己做笔记、提问和回答技术问题，以及从作者和其他用户那里获得帮助都非常简单。要访问论坛，请访问[`livebook.manning.com/book/shipping-go/discussion`](https://livebook.manning.com/book/shipping-go/discussion)。您还可以在[`livebook.manning.com/discussion`](https://livebook.manning.com/discussion)了解更多关于 Manning 论坛和行为准则的信息。

Manning 对我们读者的承诺是提供一个场所，在那里个人读者之间以及读者与作者之间可以进行有意义的对话。这不是对作者参与特定数量承诺的承诺，作者对论坛的贡献仍然是自愿的（且未付费）。我们建议您尝试向作者提出一些挑战性的问题，以免他们的兴趣转移！论坛和以前讨论的存档将可以从出版社的网站上获取，直到该书有售。

## 关于作者

![Holmes4 作者](img/Holmes4_author.png)

Joel Holmes 是一位专注于构建云原生应用的软件开发者。他在几家初创公司工作过，并帮助设计、开发和推出新产品和服务，以帮助这些公司发展和成长。在这个过程中，他能够帮助建立工具和流程，这些工具和流程有助于开发和提高质量。他与家人住在匹兹堡，目前在工作于 Thoro.ai，在日益增长的机器人行业中构建云应用。

本书的技术编辑是 Aliénor Latour，她是 Golang 技术负责人，专注于她团队软件的质量和简洁性，并且是开发角色多样性的倡导者。在工作时间之外，她游历欧洲参加苏格兰舞蹈活动，编织，缝制带口袋的裙子，并阅读关于语言学和社会学的书籍。

## 关于封面插图

《Shipping Go》封面上的插图标题为“Femme de Martavan en Sirie”，或“叙利亚的玛塔万女人”，取自 Jacques Grasset de Saint-Sauveur 的收藏，该收藏于 1797 年出版。每一幅插图都是手工精心绘制和着色的。

在那些日子里，人们通过他们的服饰很容易就能识别出他们住在哪里，以及他们的职业或社会地位。Manning 通过基于几个世纪前丰富多样的地区文化的封面设计，庆祝计算机行业的创新和主动性，这些设计通过像这一系列这样的图片重新焕发生机。
