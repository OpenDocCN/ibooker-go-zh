# 序言

如今，软件应用程序通常通过计算机网络连接到彼此，使用进程间通信技术。gRPC 是一种基于高性能 RPC（远程过程调用）的现代进程间通信风格，用于构建分布式应用程序和微服务。随着微服务和云原生应用程序的出现，gRPC 的采用正以指数级增长。

# 我们为什么要写这本书？

随着 gRPC 的日益普及，我们感到开发人员需要一本全面的关于 gRPC 的书籍，一本可以在您的 gRPC 应用程序开发周期的每个阶段中作为最终参考指南的书籍。关于 gRPC 的资源和代码示例遍布各处（文档、博客、文章、会议演讲等），但没有一本单一的资源可以用来构建 gRPC 应用程序。此外，也没有关于 gRPC 协议内部工作原理及其运行机制的资源。

我们写这本书的目的是克服这些挑战，并帮助您全面了解 gRPC 的基础知识，它与传统的进程间通信技术有何不同，真实世界中的 gRPC 通信模式，如何使用 Go 和 Java 构建 gRPC 应用程序，它的内部工作原理，如何在生产环境中运行 gRPC 应用程序，以及 gRPC 如何与 Kubernetes 及其余的生态系统配合工作。

# 本书适合谁？

本书最直接适合正在使用不同进程间通信技术构建分布式应用程序和微服务的开发人员。在构建此类应用程序和服务时，开发人员需要学习 gRPC 的基础知识，以及何时以及如何在服务间通信中使用它，生产环境中运行 gRPC 服务的最佳实践等等。此外，正在采用微服务或云原生架构并设计服务间通信方式的架构师将从本书中获得深刻的见解，因为它将 gRPC 与其他技术进行了比较，并提供了在何时使用和避免 gRPC 的指南。

我们假设开发人员和架构师都具备分布式计算的基本理解，例如进程间通信技术、面向服务的架构（SOA）和微服务。

# 本书的组织方式

本书以实际用例解释理论概念。在整本书中，我们广泛使用了涉及 Go 和 Java 的代码示例，让读者亲身体验所学概念。我们将书分为八章。

第一章，*gRPC 简介*

本章将帮助您基本了解 gRPC 的基础知识，并将其与 REST、GraphQL 及其他 RPC 技术等类似的进程间通信风格进行比较。

第二章，*开始使用 gRPC*

这一章节让您第一次亲手构建完整的 gRPC 应用程序，使用 Go 或 Java 语言。

第三章，《gRPC 通信模式》

在这一章节中，您将通过实际示例探索 gRPC 的通信模式。

第四章，《gRPC: 深入了解》

如果您是一个对 gRPC 内部机制感兴趣的高级用户，这是学习的章节。本章教授您 gRPC 服务器与客户端之间的每一个通信步骤，以及它如何在网络上运作。

第五章，《gRPC: 进阶》

这一章节教会您一些 gRPC 最重要的高级特性，例如拦截器、截止时间、元数据、多路复用、负载均衡等等。

第六章，《安全的 gRPC》

这一章节全面介绍了如何保护通信渠道，以及我们如何对 gRPC 应用程序的用户进行认证和访问控制。

第七章，《在生产环境中运行 gRPC》

这一章节将带您贯穿整个 gRPC 应用程序的开发生命周期。我们涵盖了测试 gRPC 应用程序、与 CI/CD 的集成、在 Docker 和 Kubernetes 上部署和运行，以及监控 gRPC 应用程序。

第八章，《gRPC 生态系统》

在这一章节中，我们讨论了一些围绕 gRPC 构建的有用支持组件。在使用 gRPC 构建真实世界应用程序时，大多数这些项目都非常有用。

# 使用代码示例

本书的所有代码示例和补充材料都可以在 [*https://grpc-up-and-running.github.io*](https://grpc-up-and-running.github.io) 上下载。我们强烈建议您在阅读书籍时尝试这个存储库中提供的示例。这将帮助您更好地理解正在学习的概念。

这些代码示例是维护并与最新版本的库、依赖项和开发工具保持同步的。偶尔您可能会发现文本中的代码示例与存储库中的示例略有不同。如果您在代码示例中遇到任何问题或改进意见，我们强烈建议您发送一个拉取请求（PR）。

您可以在自己的程序和文档中使用本书的示例代码，无需征得我们的许可，除非您复制了大量代码。例如，编写一个使用本书多个代码片段的程序不需要许可。出售或分发 O'Reilly 图书中的示例代码需要许可。引用本书并引用示例代码来回答问题不需要许可。将本书的大量示例代码整合到产品文档中需要许可。

我们欣赏但通常不要求署名。署名通常包括标题、作者、出版商和 ISBN 号。例如：“*gRPC: Up and Running* by Kasun Indrasiri and Danesh Kuruppu (O’Reilly)。版权 2020 年 Kasun Indrasiri 和 Danesh Kuruppu，978-1-492-05833-5。”

如果您认为您使用的代码示例超出了合理使用或上述授权，请随时联系我们：*permissions@oreilly.com*。

# 本书中使用的约定

本书使用以下印刷约定：

*斜体*

表示新术语、网址、电子邮件地址、文件名和文件扩展名。

`常量宽度`

用于程序清单，以及在段落内用来引用程序元素，如变量或函数名称、数据库、数据类型、环境变量、语句和关键字。

**`常量宽度粗体`**

显示应由用户按照字面意思输入的命令或其他文本。

*`常量宽度斜体`*

显示应用程序列表以及在段落中引用程序元素，例如变量或函数名称、数据库、数据类型、环境变量、语句和关键字。

###### 提示

此元素表示提示或建议。

###### 注释

此元素表示一般注释。

###### 警告

此元素指示警告或注意事项。

# O’Reilly 在线学习

###### 注释

超过 40 年来，[*O’Reilly Media*](http://oreilly.com)一直为企业提供技术和商业培训、知识和见解，帮助其取得成功。

我们独特的专家和创新者网络通过书籍、文章、会议和我们的在线学习平台分享他们的知识和专长。O'Reilly 的在线学习平台为您提供按需访问的实时培训课程、深入学习路径、交互式编码环境以及来自 O'Reilly 和 200 多家其他出版商的广泛的文本和视频集合。欲了解更多信息，请访问：[*http://oreilly.com*](http://oreilly.com)。

# 如何联系我们

请将有关本书的评论和问题发送至出版商：

+   O’Reilly Media, Inc.

+   1005 Gravenstein Highway North

+   Sebastopol, CA 95472

+   800-998-9938（在美国或加拿大）

+   707-829-0515（国际或本地）

+   707-829-0104（传真）

我们有这本书的网页，其中列出了勘误、示例和任何额外信息。您可以访问此页面：[*https://oreil.ly/gRPC_Up_and_Running*](https://oreil.ly/gRPC_Up_and_Running)。

发送电子邮件至*bookquestions@oreilly.com* 以评论或提出关于本书的技术问题。

欲了解更多关于我们的图书、课程、会议和新闻的信息，请访问我们的网站：[*http://www.oreilly.com*](http://www.oreilly.com)。

在 Facebook 上找到我们：[*http://facebook.com/oreilly*](http://facebook.com/oreilly)

在 Twitter 上关注我们：[*http://twitter.com/oreillymedia*](http://twitter.com/oreillymedia)

观看我们的 YouTube 频道：[*http://www.youtube.com/oreillymedia*](http://www.youtube.com/oreillymedia)

# 致谢

我们衷心感谢本书的技术审阅者，Julien Andrieux、Tim Raymond 和 Ryan Michela。同时，我们要感谢开发编辑 Melissa Potter 在指导和支持上的帮助，以及采编编辑 Ryan Shaw 的大力支持。最后，我们要感谢整个 gRPC 社区为创造如此优秀的开源项目所做的贡献。
